!function(window,document,$,undefined){function _buildRegexFromString(e){function t(){}if(!e||"string"!=typeof e&&!(e instanceof RegExp))return t(),!1;"string"!=typeof e&&(e=e.toString());for(var r,i,o,n=e.charAt(0),a=e.length-1;a>0&&/[gimsxeU]/.test(e.charAt(a));)a--;e.charAt(a)!==n&&(n=null),n&&a!==e.length-1&&(i=e.substr(a+1,e.length-1)),r=n?e.substr(1,a-1):e;try{o=new RegExp(r,i)}catch(s){return t(),!1}return o}function isEmpty(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}window.Validation={form:[],labels:{},hasScrolled:!1},"function"!=typeof Object.preventExtensions&&(Object.preventExtensions=function(e){return e});var _rules={NOTEMPTY:/\S/,INTEGER:/^\d+$/,NUMERIC:/^\d+(?:[,\s]\d{3})*(?:\.\d+)?$/,MIXED:/^[\w\s-]+$/,NAME:/^['a-zãàáäâẽèéëêìíïîõòóöôùúüûñç\s-]+$/i,NOSPACE:/^(?!\s)\S*$/,TRIM:/^[^\s].*[^\s]$/,DATE:/^\d{4}-\d{2}-\d{2}(\s\d{2}:\d{2}(:\d{2})?)?$/,EMAIL:/^([^@]+?)@(([a-z0-9]-*)*[a-z0-9]+\.)+([a-z0-9]+)$/i,URL:/^(https?:\/\/)?((([a-z0-9]-*)*[a-z0-9]+\.?)*([a-z0-9]+))(\/[\w?=\.-]*)*$/,PHONE:/^(\()?\d{3}(\))?(-|\s)?\d{3}(-|\s)\d{4}$/,OPTIONAL:/\S/,COMPARISON:/^\s*([LV])\s*([<>]=?|==|!=)\s*([^<>=!]+?)\s*$/},_messages={"default":"$ contém erro(s).",NOTEMPTY:"$ precisa ser preenchido.",INTEGER:"$ deve ser um inteiro.",NUMERIC:"$ precisa ser um valor numérico.",MIXED:"$ deve conter apenas letras e números (sem caractéres especiais).",NAME:"$ não pode conter caractéres especiais.",NOSPACE:"$ não deve conter espaços.",TRIM:"$ não deve começar, nem terminar com espaços em branco.",DATE:"$ não está no formato valido DD-MM-YYYY.",EMAIL:"$ não é um email válido.",URL:"$ não é válida.",PHONE:"$ não é um número de telefone válido.","<":"$ precisa ter menos de % caractéres.","<=":"$ precisa ter no máximo % caractéres.",">":"$ precisa ter mais que % caractéres.",">=":"$ precisa ter no mínimo % caractéres.","==":"$ deve ser igual a %","!=":"$ deve ser diferente de %"},_data={validation:"data-validation",validationMessage:"data-validation-message",regex:"data-validation-regex",regexReverse:"data-validation-regex-reverse",regexMessage:"data-validation-regex-message",group:"data-validation-group",label:"data-validation-label",errorList:"data-error-list"},_options={submit:{settings:{form:null,display:"inline",insertion:"append",allErrors:!1,trigger:"click",button:"[type='submit']",errorClass:"error",errorListClass:"error-list",errorListContainer:null,inputContainer:null,clear:"focusin",scrollToError:!1},callback:{onInit:null,onValidate:null,onError:null,onBeforeSubmit:null,onSubmit:null,onAfterSubmit:null}},dynamic:{settings:{trigger:null,delay:300},callback:{onSuccess:null,onError:null,onComplete:null}},rules:{},messages:{},labels:{},debug:!1},_supported={submit:{settings:{display:["inline","block"],insertion:["append","prepend"],allErrors:[!0,!1],clear:["focusin","keypress",!1],trigger:["click","dblclick","focusout","hover","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","toggle"]}},dynamic:{settings:{trigger:["focusout","keydown","keypress","keyup"]}},debug:[!0,!1]},Validation=function(node,options){function extendRules(){options.rules=$.extend(!0,{},_rules,options.rules)}function extendMessages(){options.messages=$.extend(!0,{},_messages,options.messages)}function extendOptions(){options instanceof Object||(options={});var e=Object.preventExtensions($.extend(!0,{},_options));for(var t in options)if(options.hasOwnProperty(t)&&"debug"!==t)if(~["labels","messages","rules"].indexOf(t)&&options[t]instanceof Object)e[t]=options[t];else if(_options[t]&&options[t]instanceof Object)for(var r in options[t])if(options[t].hasOwnProperty(r)&&_options[t][r]&&options[t][r]instanceof Object){for(var i in options[t][r])options[t][r].hasOwnProperty(i)&&_supported[t]&&_supported[t][r]&&_supported[t][r][i]&&-1===$.inArray(options[t][r][i],_supported[t][r][i])&&delete options[t][r][i];e[t]&&e[t][r]&&(e[t][r]=$.extend(Object.preventExtensions(e[t][r]),options[t][r]))}e.dynamic.settings.trigger&&"keypress"===e.dynamic.settings.trigger&&"keypress"===e.submit.settings.clear&&(e.dynamic.settings.trigger="keydown"),options=e}function delegateDynamicValidation(){if(!options.dynamic.settings.trigger)return!1;if(!node.find("["+_data.validation+"],["+_data.regex+"]")[0])return!1;var e=options.dynamic.settings.trigger+delegateSuffix;"focusout"!==options.dynamic.settings.trigger&&(e+=" change"+delegateSuffix+" paste"+delegateSuffix),$.each(node.find("["+_data.validation+"],["+_data.regex+"]"),function(t,r){$(r).unbind(e).on(e,function(e){if($(this).is(":disabled"))return!1;var t=this,r=e.keyCode||null;_typeWatch(function(){validateInput(t)?_executeCallback(options.dynamic.callback.onSuccess,[node,t,r]):(displayOneError(t.name),_executeCallback(options.dynamic.callback.onError,[node,t,r,errors[t.name]])),_executeCallback(options.dynamic.callback.onComplete,[node,t,r])},options.dynamic.settings.delay)})})}function delegateValidation(){_executeCallback(options.submit.callback.onInit,[node]);var e=options.submit.settings.trigger+".vd";return!!node.find(options.submit.settings.button)[0]&&(node.on("submit",!1),void node.find(options.submit.settings.button).off(".vd").on(e,function(e){return e.preventDefault(),resetErrors(),_executeCallback(options.submit.callback.onValidate,[node]),validateForm()?(_executeCallback(options.submit.callback.onBeforeSubmit,[node]),options.submit.callback.onSubmit?_executeCallback(options.submit.callback.onSubmit,[node,formData]):submitForm(),_executeCallback(options.submit.callback.onAfterSubmit,[node])):(displayErrors(),_executeCallback(options.submit.callback.onError,[node,errors,formData])),!1}))}function validateForm(){var e=isEmpty(errors);return formData={},$.each(node.find('input:not([type="submit"]), select, textarea').not(":disabled"),function(t,r){r=$(r);var i=_getInputValue(r[0]),o=r.attr("name");o&&(/\[]$/.test(o)?(o=o.replace(/\[]$/,""),formData[o]instanceof Array||(formData[o]=[]),formData[o].push(i)):formData[o]=i),(r.attr(_data.validation)||r.attr(_data.regex))&&(validateInput(r[0],i)||(e=!1))}),prepareFormData(),e}function prepareFormData(){var e,t,r={};for(var i in formData)if(formData.hasOwnProperty(i)){t=0,e=i.split(/\[(.+?)]/g);for(var o={},n=[],a=e.length-1;a>=0;a--)""!==e[a]?(n.length<1?o[e[a]]=Number(formData[i])||formData[i]:(o={},o[e[a]]=n[n.length-1]),n.push(o)):e.splice(a,1);r=$.extend(!0,r,o)}formData=r}function validateInput(e,t){var r=$(e).attr("name"),t=t||_getInputValue(e);if(!r)return!1;var i=r.replace(/]$/,"").split(/]\[|[[\]]/g),o=window.Validation.labels[r]||options.labels[r]||$(e).attr(_data.label)||i[i.length-1],n=$(e).attr(_data.validation),a=$(e).attr(_data.validationMessage),s=$(e).attr(_data.regex),l=!($(e).attr(_data.regexReverse)===undefined),d=$(e).attr(_data.regexMessage),u=!1;if(n&&(n=_api._splitValidation(n)),n instanceof Array&&n.length>0){if(""===$.trim(t)&&~n.indexOf("OPTIONAL"))return!0;$.each(n,function(e,i){if(u===!0)return!0;try{validateRule(t,i)}catch(n){(a||!options.submit.settings.allErrors)&&(u=!0),n[0]=a||n[0],registerError(r,n[0].replace("$",o).replace("%",n[1]))}})}if(s){var c=_buildRegexFromString(s);if(!(c instanceof RegExp))return!0;try{validateRule(t,c,l)}catch(p){p[0]=d||p[0],registerError(r,p[0].replace("$",o))}}return!errors[r]||errors[r]instanceof Array&&0===errors[r].length}function validateRule(value,rule,reversed){if(rule instanceof RegExp){var isValid=rule.test(value);if(reversed&&(isValid=!isValid),!isValid)throw[options.messages["default"],""]}else if(options.rules[rule]){if(!options.rules[rule].test(value))throw[options.messages[rule],""]}else{var comparison=rule.match(options.rules.COMPARISON);if(comparison&&4===comparison.length){var type=comparison[1],operator=comparison[2],compared=comparison[3],comparedValue;switch(type){case"L":if(isNaN(compared))return!1;if(!value||eval(value.length+operator+parseFloat(compared))===!1)throw[options.messages[operator],compared];break;case"V":default:if(isNaN(compared)){if(comparedValue=node.find('[name="'+compared+'"]').val(),!comparedValue)return!1;if(!value||!eval('"'+encodeURIComponent(value)+'"'+operator+'"'+encodeURIComponent(comparedValue)+'"'))throw[options.messages[operator].replace(" characters",""),compared]}else if(!value||isNaN(value)||!eval(value+operator+parseFloat(compared)))throw[options.messages[operator].replace(" characters",""),compared]}}}}function registerError(e,t){errors[e]||(errors[e]=[]),t=t.capitalize();for(var r=!1,i=0;i<errors[e].length;i++)if(errors[e][i]===t){r=!0;break}r||errors[e].push(t)}function displayOneError(e){var t,r,i,o,n,a,s='<div class="'+options.submit.settings.errorListClass+'" '+_data.errorList+"><ul></ul></div>";if(!errors.hasOwnProperty(e))return!1;if(t=node.find('[name="'+e+'"]'),o=null,!t[0])return!1;if(n=t.attr(_data.group),n?(a=node.find('[name="'+e+'"]'),o=node.find('[id="'+n+'"]'),o[0]&&(o.addClass(options.submit.settings.errorClass),i=o)):(t.addClass(options.submit.settings.errorClass),options.submit.settings.inputContainer&&t.parentsUntil(node,options.submit.settings.inputContainer).addClass(options.submit.settings.errorClass),r=t.attr("id"),r&&(o=node.find('label[for="'+r+'"]')[0]),o||(o=t.parentsUntil(node,"label")[0]),o&&(o=$(o),o.addClass(options.submit.settings.errorClass))),"inline"===options.submit.settings.display?i=options.submit.settings.errorListContainer?t.parentsUntil(node,options.submit.settings.errorListContainer):i||t.parent():"block"===options.submit.settings.display&&(i=node),"inline"===options.submit.settings.display&&i.find("["+_data.errorList+"]")[0])return!1;("inline"===options.submit.settings.display||"block"===options.submit.settings.display&&!i.find("["+_data.errorList+"]")[0])&&("append"===options.submit.settings.insertion?i.append(s):"prepend"===options.submit.settings.insertion&&i.prepend(s));for(var l=0;l<errors[e].length;l++)i.find("["+_data.errorList+"] ul").append("<li>"+errors[e][l]+"</li>");if(options.submit.settings.clear||options.dynamic.settings.trigger){n&&a&&(t=a);var d="coucou"+resetSuffix;options.submit.settings.clear&&(d+=" "+options.submit.settings.clear+resetSuffix,~["radio","checkbox"].indexOf(t[0].type)&&(d+=" change"+resetSuffix)),options.dynamic.settings.trigger&&(d+=" "+options.dynamic.settings.trigger+resetSuffix,"focusout"===options.dynamic.settings.trigger||~["radio","checkbox"].indexOf(t[0].type)||(d+=" change"+resetSuffix+" paste"+resetSuffix)),t.unbind(d).on(d,function(e,t,r,i,o){return function(){o?$(r).hasClass(options.submit.settings.errorClass)&&resetOneError(e,t,r,i,o):$(t).hasClass(options.submit.settings.errorClass)&&resetOneError(e,t,r,i)}}(e,t,o,i,n))}if(options.submit.settings.scrollToError&&!window.Validation.hasScrolled){window.Validation.hasScrolled=!0;var u=parseFloat(options.submit.settings.scrollToError.offset)||0,c=parseFloat(options.submit.settings.scrollToError.duration)||500,p="block"===options.submit.settings.display?i:t;$("html, body").animate({scrollTop:p.offset().top+u},c)}}function displayErrors(){for(var e in errors)errors.hasOwnProperty(e)&&displayOneError(e)}function resetOneError(e,t,r,i,o){if(delete errors[e],i)options.submit.settings.inputContainer&&(o?r:t).parentsUntil(node,options.submit.settings.inputContainer).removeClass(options.submit.settings.errorClass),r&&r.removeClass(options.submit.settings.errorClass),t.removeClass(options.submit.settings.errorClass),"inline"===options.submit.settings.display&&i.find("["+_data.errorList+"]").remove();else{if(!t&&(t=node.find('[name="'+e+'"]'),!t[0]))return!1;t.trigger("coucou"+resetSuffix)}}function resetErrors(){errors=[],window.Validation.hasScrolled=!1,node.find("["+_data.errorList+"]").remove(),node.find("."+options.submit.settings.errorClass).removeClass(options.submit.settings.errorClass)}function submitForm(){node[0].submit()}function destroy(){return resetErrors(),node.find("["+_data.validation+"],["+_data.regex+"]").off(delegateSuffix+" "+resetSuffix),node.find(options.submit.settings.button).off(delegateSuffix).on("click"+delegateSuffix,function(){$(this).closest("form")[0].submit()}),!0}var errors=[],messages={},formData={},delegateSuffix=".vd",resetSuffix=".vr";window.Validation.hasScrolled=!1;var _getInputValue=function(e){var t;switch($(e).attr("type")){case"checkbox":t=$(e).is(":checked")?1:"";break;case"radio":t=node.find('input[name="'+$(e).attr("name")+'"]:checked').val()||"";break;default:t=$(e).val()}return t},_typeWatch=function(){var e=0;return function(t,r){clearTimeout(e),e=setTimeout(t,r)}}(),_executeCallback=function(e,t){if(!e)return!1;var r;if("function"==typeof e)r=e;else if("string"==typeof e||e instanceof Array){r=window,"string"==typeof e&&(e=[e,[]]);for(var i=e[0].split("."),o=e[1],n=!0,a=0;a<i.length;){if("undefined"==typeof r){n=!1;break}r=r[i[a++]]}if(!n||"function"!=typeof r)return!1}return r.apply(this,$.merge(o||[],t?t:[])),!0};return this.__construct=function(){extendOptions(),extendRules(),extendMessages(),delegateDynamicValidation(),delegateValidation()}(),{registerError:registerError,displayOneError:displayOneError,displayErrors:displayErrors,resetOneError:resetOneError,resetErrors:resetErrors,destroy:destroy}};$.fn.validate=$.validate=function(e){return _api.validate(this,e)},$.fn.addValidation=function(e){return _api.addValidation(this,e)},$.fn.removeValidation=function(e){return _api.removeValidation(this,e)},$.fn.addError=function(e){return _api.addError(this,e)},$.fn.removeError=function(e){return _api.removeError(this,e)},$.fn.alterValidationRules=$.alterValidationRules=function(e){e instanceof Array||(e=[e]);for(var t=0;t<e.length;t++)_api.alterValidationRules(e[t])};var _api={_formatValidation:function(e){return e=e.toString().replace(/\s/g,""),"["===e.charAt(0)&&"]"===e.charAt(e.length-1)&&(e=e.replace(/^\[|]$/g,"")),e},_splitValidation:function(e){for(var t,r=this._formatValidation(e).split(","),i=0;i<r.length;i++)t=r[i],/^[a-z]+$/i.test(t)&&(r[i]=t.toUpperCase());return r},_joinValidation:function(e){return"["+e.join(", ")+"]"},validate:function(e,t){if("function"==typeof e){if(!t.submit.settings.form)return;if(e=$(t.submit.settings.form),!e[0]||"form"!==e[0].nodeName.toLowerCase())return}else if("undefined"==typeof e[0])return;if("destroy"===t){if(!window.Validation.form[e.selector])return;return void window.Validation.form[e.selector].destroy()}return e.each(function(){window.Validation.form[e.selector]=new Validation($(this),t)})},addValidation:function(e,t){var r=this;return t=r._splitValidation(t),!!t&&e.each(function(){for(var e,i=$(this),o=i.attr(_data.validation),n=o&&o.length?r._splitValidation(o):[],a=0;a<t.length;a++)e=r._formatValidation(t[a]),-1===$.inArray(e,n)&&n.push(e);n.length&&i.attr(_data.validation,r._joinValidation(n))})},removeValidation:function(e,t){var r=this;return t=r._splitValidation(t),!!t&&e.each(function(){var e,i,o=$(this),n=o.attr(_data.validation),a=n&&n.length?r._splitValidation(n):[];if(!a.length)return o.removeAttr(_data.validation),!0;for(var s=0;s<t.length;s++)e=r._formatValidation(t[s]),i=$.inArray(e,a),-1!==i&&a.splice(i,1);return a.length?void o.attr(_data.validation,r._joinValidation(a)):(o.removeAttr(_data.validation),!0)})},addError:function(e,t){if(!window.Validation.form[e.selector])return!1;if("object"!=typeof t||"[object Object]"!==Object.prototype.toString.call(t))return!1;var r,i=!0;for(var o in t)if(t.hasOwnProperty(o)&&(t[o]instanceof Array||(t[o]=[t[o]]),r=$(e.selector).find('[name="'+o+'"]'),r[0])){i&&(window.Validation.hasScrolled=!1,i=!1),window.Validation.form[e.selector].resetOneError(o,r);for(var n=0;n<t[o].length;n++)"string"==typeof t[o][n]&&window.Validation.form[e.selector].registerError(o,t[o][n]);window.Validation.form[e.selector].displayOneError(o)}},removeError:function(e,t){if(!window.Validation.form[e.selector])return!1;if(!t)return window.Validation.form[e.selector].resetErrors(),!1;if("object"==typeof t&&"[object Array]"!==Object.prototype.toString.call(t))return!1;t instanceof Array||(t=[t]);for(var r,i=0;i<t.length;i++)r=$(e.selector).find('[name="'+t[i]+'"]'),r[0]&&window.Validation.form[e.selector].resetOneError(t[i],r)},alterValidationRules:function(e){if(!e.rule||!e.regex&&!e.message)return!1;if(e.rule=e.rule.toUpperCase(),e.regex){var t=_buildRegexFromString(e.regex);if(!(t instanceof RegExp))return!1;_rules[e.rule]=t}return e.message&&(_messages[e.rule]=e.message),!0}};String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length>>>0,r=Number(arguments[1])||0;for(r=0>r?Math.ceil(r):Math.floor(r),0>r&&(r+=t);t>r;r++)if(r in this&&this[r]===e)return r;return-1})}(window,document,window.jQuery);